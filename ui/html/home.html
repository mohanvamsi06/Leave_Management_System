<!DOCTYPE html>
<html>
    <head>
        <meta charSet="utf-8"/>
        <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0, width=device-width, height=device-height"/>
        <link rel="stylesheet" href="../css/style.css">
        <link rel="icon" href="/images/amrita.ico" sizes="192x192" />
        <script src="../js/apply.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js"></script>
        <title>Home page</title>
    </head>
    <body>
        <div class="header">
            <div class="amrita_logo"></div>
            <div class="welcome"><h3>Welcome : <span id="user"></span></h3></div>
            <div class="TIFAC-logo"></div>
            <div class="menu-icon" onmouseenter="toggleDropdown(this)" onmouseleave="toggleDropdown(this)">
            <div class="dropdown-content">
                <div class="dropdown-item" onclick="logout()">Logout</div>
                <div class="dropdown-item" onclick="handleItemClick()">Change Password</div>
            </div>
            <div class="icon"></div>
        </div>
        </div>
        <div class="background_image">
            <div class="content">
                <div class="tabset">
                    <input type="radio" name="tabset" id="tab1" aria-controls="apply" checked>
                    <label for="tab1">Apply</label>
                    <input type="radio" name="tabset" id="tab2" aria-controls="view">
                    <label for="tab2">View</label>
                    
                    <div class="tab-panels">
                        <section id="apply" class="tab-panel">
                            <h2>Apply For leave</h2>
                            <form id="applyform">
                                <fieldset>
                                  <legend>Please select Type of Leave:</legend>
                                  <div>
                                    <input type="radio" id="OD" name="type" value="On Duty" onchange="handleOD()" required/>
                                    <label for="OD">Duty Leave</label>
                              
                                    <input type="radio" id="ML" name="type" value="Medical Leave" onchange="handleML()" required/>
                                    <label for="ML">Medical Leave</label>

                                    <input type="radio" id="CASUAL" name="type" value="Casual Leave" onchange="handleCas()" required/>
                                    <label for="CASUAL">Casual Leave</label>
                                  </div><br>
                                  <div id="subtype"></div>
                                </fieldset>
                                <br>
                                <h4>Select the dates:</h4>
                                From <input type="date" id="from_date" required>
                                Slot <select id = "fslot">
                                    <option value=1>1</option>
                                    <option value=2>2</option>
                                    <option value=3>3</option>
                                    <option value=4>4</option>
                                    <option value=5>5</option>
                                    <option value=6>6</option>
                                    <option value=7>7</option>
                                    <option value=8>8</option>
                                </select>
                                <span class="date-separator">To</span>
                                <input type="date" id="To_date" required>
                                Slot <select id = "tslot">
                                    <option value=1>1</option>
                                    <option value=2>2</option>
                                    <option value=3>3</option>
                                    <option value=4>4</option>
                                    <option value=5>5</option>
                                    <option value=6>6</option>
                                    <option value=7>7</option>
                                    <option value=8>8</option>
                                </select>
                                <br>
                                Apply for Whole Day
                                <input type="checkbox" id="disableslots"><br><br>
                                <h4>Upload Supporting Documents:</h4>
                                <input type="file" id="Doc" accept=".pdf" required>
                                <br>
                                <h4>Add description:</h4>
                                <textarea id="description" cols = "40" rows ="5" required></textarea><br><br>
                                <button type="button" onclick="SubmitForm()">Apply</button>
                              </form>
                        </section>
                        <section id="view" class="tab-panel">
                            <h2>View Submissions</h2>
                            <table id="requestTable">
                                <thead>
                                    <tr>
                                        <th>Request Id</th>
                                        <th>type</th>
                                        <th>Subtype</th>
                                        <th>From</th>
                                        <th>Slot</th>
                                        <th>To</th>
                                        <th>Slot</th>
                                        <th>Date Applied</th>
                                        <th>View Supporting Document</th>
                                        <th>Status</th>
                                        <th>Withdraw Request</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody">
                                    <td colspan="11" style="text-align: center;">No requests made yet</td>
                                </tbody>
                            </table>
                        </div>
                        </section>
                              
                    </div>    
                </div>
            </div>
        </div>
        <div id="pdfModal" class="modal">
            <div class="modal-content">
              <div id="pdfViewerModal"></div>
            </div>
            <span class="close" onclick="closeModal()"></span>
        </div>  
        <div class="footer">
            Copyright Â© 2023 - 2024 Leave Management System<br>
            S. Mohana Vamsi<br>
            II B.Tech CSE (CYS)<br>
            Part of 20CYS202 - User Interface Design<br>
            Amrita Vishwa Vidyapeetham, Coimbatore<br>
        </div>
    </body> 
</html>